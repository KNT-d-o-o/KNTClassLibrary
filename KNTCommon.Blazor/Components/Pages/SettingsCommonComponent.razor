@inject IParametersRepository Parameters
@inject HelperService Helper

@* SettingsCommonComponent *@

<div class="ScrollableOuterDiv Animation">
    <RadzenStack>
        <RadzenFieldset>
            <RadzenRow id="RadzenRowMarginFormsSettingsLeft">
                <RadzenColumn Size="3">
                    <RadzenLabel class="labelEdit" Text="Language"></RadzenLabel>
                </RadzenColumn>
                <RadzenColumn Size="5">
                    <RadzenDropDown class="OverviewDropdown" Data="@languages" TextProperty="Text" ValueProperty="Value" @bind-Value="selectedLanguage" Change="OnChangeLanguage"></RadzenDropDown>
                </RadzenColumn>
            </RadzenRow>

            <RadzenRow id="RadzenRowMarginFormsSettingsLeft">
                <RadzenColumn Size="3">
                    <RadzenLabel class="labelEdit" Text="Date"></RadzenLabel>
                </RadzenColumn>
                <RadzenColumn Size="5">
                    <AlphanumericInput></AlphanumericInput>
                </RadzenColumn>
            </RadzenRow>

            <RadzenRow id="RadzenRowMarginFormsSettingsLeft">
                <RadzenColumn Size="3">
                    <RadzenLabel class="labelEdit" Text="Clock"></RadzenLabel>
                </RadzenColumn>
                <RadzenColumn Size="5">
                    <AlphanumericInput></AlphanumericInput>
                </RadzenColumn>
            </RadzenRow>
        </RadzenFieldset>

    </RadzenStack>
</div>

@code {

    protected override void OnInitialized()
    {
        LoadData();
        base.OnInitialized();
    }

    public void LoadData()
    {
        selectedLanguage = Convert.ToInt16(Parameters.GetParametersStr("activeLanguage"));
    }

    private short selectedLanguage = 1;
    private List<Language> languages = new List<Language>
    {
        new Language { Text = "English", Value = 1 },
        new Language { Text = "Slovene", Value = 2 },
        new Language { Text = "German", Value = 3 },
        new Language { Text = "Croatian", Value = 4 },
        new Language { Text = "Serbian", Value = 5 }
    };

    private void OnChangeLanguage(object value)
    {
        Helper.Notify(Parameters.UpdateParameters("activeLanguage", selectedLanguage.ToString()));
    }


}
